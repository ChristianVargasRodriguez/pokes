{% extends "base.html" %} 

{% block title %}
    Login/Registration
{% endblock %}

{% block content %}
<h3 class="font-weight-bold">Welcome!</h3>
<div class="row justify-content-around pt-5 pb-4">
    <!-- 2.1) Registration Form -->
    <div class="col-5">
        <form action="/register" method="post" class="p-4 bg-dark text-light">
        <!-- Form Subtitle -->
        <h2 class="text-primary">Register</h2>
        <!-- Error Messages -->
        {% with messages = get_flashed_messages(category_filter=['register']) %}
            {% if messages %}
                <div class="alert alert-danger" role="alert">
                <strong>Error:</strong>
                {% for message in messages %}
                    <p class="m-0"> - {{message}}</p>
                {% endfor %}
                </div>
            {% endif %} 
        {% endwith %}
        <!-- Form Inputs -->
        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" name="name" id="name" class="form-control"  />
        </div>
        <div class="form-group">
            <label for="alias">Alias:</label>
            <input type="text" name="alias" id="alias" class="form-control" />
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="text" name="email" id="email" class="form-control" />
        </div>
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" name="password" id="password" class="form-control" />
        </div>
        <div>
            <p>*Password should be at least 8 characters</p>
        </div>
        <div class="form-group">
            <label for="confirm">Confirm Password:</label>
            <input type="password" name="confirm" id="confirm" class="form-control" />
        </div>


        <div class="form-group row">
            <label for="date_birth" class="col-sm-4 col-form-label"
                >Rideshare Date:</label
            >
            <div class="col-sm-8">
                <input
                type="date"
                name="date_birth"
                id="date_birth"
                class="form-control"
                />
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary">Register</button>
        </form>
    </div>

    <!-- 2.2) Login Form -->
    <div class="col-5">
        <form action="/login" method="post" class="p-4 bg-dark text-light">
        <h2 class="text-success">Login</h2>
        {% with messages = get_flashed_messages(category_filter=['login']) %} 
            {% if messages %}
            <div class="alert alert-danger" role="alert">
            <span><strong>Error: </strong>{{messages[0]}}</span>
            </div>
            {% endif %} 
        {% endwith %}
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="text" name="email" class="form-control" />
        </div>
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" name="password" class="form-control" />
        </div>
        <input type="submit" value="Login" class="btn btn-success" />
        </form>
    </div>

{% endblock %}